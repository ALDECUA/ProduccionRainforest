"use strict";(self.webpackChunkproyectoprueba=self.webpackChunkproyectoprueba||[]).push([[421,154],{3377:(U,C,s)=>{s.d(C,{b:()=>T});class Z{constructor(){this.sortOrder=1,this.collator=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"})}startSort(g,e,d=""){return"desc"===e&&(this.sortOrder=-1),(_,u)=>"date"===d?this.sortData(new Date(_[g]),new Date(u[g])):this.collator.compare(_[g],u[g])*this.sortOrder}sortData(g,e){return g<e?-1*this.sortOrder:g>e?1*this.sortOrder:0*this.sortOrder}}var f=s(9863);let T=(()=>{class n{constructor(e,d){this.renderer=e,this.targetElem=d}sortData(){const e=new Z,d=this.targetElem.nativeElement,_=d.getAttribute("data-order"),u=d.getAttribute("data-type"),l=d.getAttribute("data-name");"desc"===_?(this.appSort.sort(e.startSort(l,_,u)),d.setAttribute("data-order","asc")):(this.appSort.sort(e.startSort(l,_,u)),d.setAttribute("data-order","desc"))}}return n.\u0275fac=function(e){return new(e||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n,selectors:[["","appSort",""]],hostBindings:function(e,d){1&e&&f.NdJ("click",function(){return d.sortData()})},inputs:{appSort:"appSort"}}),n})()},6878:(U,C,s)=>{s.d(C,{f:()=>e});var Z=s(5861),f=s(9863),T=s(7556),n=s(4383),g=s(780);let e=(()=>{class d{constructor(u,l,b){this.auth=u,this.toast=l,this.router=b}canActivate(u){let l=u.data.grant;return 0===this.auth.menus.length?this.getMenus(l):!!this.auth.menus.includes(l)||(this.toast.error("No tienes permiso para realizar esta acci\xf3n","Acceso denegado"),this.router.navigateByUrl("/crm"),!1)}getMenus(u){return(0,Z.Z)(function*(){return console.log("enmenu"),new Promise((l,b)=>{l(!0)})})()}}return d.\u0275fac=function(u){return new(u||d)(f.LFG(T.e),f.LFG(n._W),f.LFG(g.F0))},d.\u0275prov=f.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})()},6953:(U,C,s)=>{s.r(C),s.d(C,{AvisosModule:()=>ne});var Z=s(9808),f=s(780),T=s(6878),n=s(5226),g=s.n(n),e=s(9863),d=s(6475),_=s(9595),u=s(3720),l=s(4182);function b(i,m){1&i&&(e.TgZ(0,"div",53),e._uU(1," Imagen selecionada "),e.qZA())}function k(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"input",54),e.NdJ("ngModelChange",function(r){return e.CHM(o),e.oxw().Notificacion.link=r}),e.qZA()}if(2&i){const o=e.oxw();e.Q6J("ngModel",o.Notificacion.link)}}function P(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"div",21),e.TgZ(1,"input",55),e.NdJ("ngModelChange",function(r){return e.CHM(o),e.oxw().radioSelected=r})("change",function(){return e.CHM(o),e.oxw().onItemChange()}),e.qZA(),e.TgZ(2,"label",56),e._uU(3," Notificar a todos "),e.qZA(),e.qZA()}if(2&i){const o=e.oxw();e.xp6(1),e.Q6J("ngModel",o.radioSelected)}}function F(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){return e.CHM(o),e.oxw().selectToday()}),e._uU(1,"Guardar"),e.qZA()}}function D(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){return e.CHM(o),e.oxw().Notificacionsend()}),e._uU(1,"Enviar"),e.qZA()}}function p(i,m){1&i&&(e.TgZ(0,"td"),e._uU(1," Mensaje Global "),e.qZA())}function N(i,m){1&i&&(e.TgZ(0,"td"),e._uU(1," Asesores "),e.qZA())}function h(i,m){1&i&&(e.TgZ(0,"td"),e._uU(1," inversionistas "),e.qZA())}function M(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.YNc(9,p,2,0,"td",62),e.YNc(10,N,2,0,"td",62),e.YNc(11,h,2,0,"td",62),e.TgZ(12,"td"),e.TgZ(13,"button",63),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw(2).EliminarMensaje(a.IdNotificacionCRM)}),e._uU(14,"Delete"),e.qZA(),e.qZA(),e.qZA()}if(2&i){const o=m.$implicit;e.xp6(2),e.hij(" ",o.FechaAgenda," "),e.xp6(2),e.hij(" ",o.Hora," "),e.xp6(2),e.hij(" ",o.Titulo," "),e.xp6(2),e.hij(" ",o.Texto," "),e.xp6(1),e.Q6J("ngIf",0==o.identificacion),e.xp6(1),e.Q6J("ngIf",1==o.identificacion),e.xp6(1),e.Q6J("ngIf",2==o.identificacion)}}function w(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"div",3),e.TgZ(1,"table",58),e.TgZ(2,"thead"),e.TgZ(3,"tr"),e.TgZ(4,"th",38),e._uU(5,"Fecha"),e.qZA(),e.TgZ(6,"th",38),e._uU(7,"Hora"),e.qZA(),e.TgZ(8,"th",38),e._uU(9,"Titulo"),e.qZA(),e.TgZ(10,"th",38),e._uU(11,"Texto"),e.qZA(),e.TgZ(12,"th",38),e._uU(13,"Nivel"),e.qZA(),e._UZ(14,"th",38),e.qZA(),e.qZA(),e.TgZ(15,"tbody"),e.YNc(16,M,15,7,"tr",39),e.qZA(),e.qZA(),e.TgZ(17,"input",59),e.NdJ("ngModelChange",function(r){return e.CHM(o),e.oxw().horayminutos=r}),e.qZA(),e.TgZ(18,"ngb-datepicker",60,61),e.NdJ("ngModelChange",function(r){return e.CHM(o),e.oxw().model=r})("navigate",function(r){return e.CHM(o),e.oxw().date=r.next}),e.qZA(),e.qZA()}if(2&i){const o=e.oxw();e.xp6(16),e.Q6J("ngForOf",o.mensajes),e.xp6(1),e.Q6J("ngModel",o.horayminutos),e.xp6(1),e.Q6J("ngModel",o.model)}}function S(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"th",64),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e.TgZ(6,"button",65),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw().openFile(a)}),e._UZ(7,"i",66),e.qZA(),e.TgZ(8,"button",67),e.NdJ("click",function(){const a=e.CHM(o).$implicit;return e.oxw().selectimg(a)}),e._UZ(9,"i",68),e.qZA(),e.qZA(),e.qZA()}if(2&i){const o=m.$implicit,t=m.index;e.xp6(2),e.Oqu(t+1),e.xp6(2),e.Oqu(o.Titulo)}}const R=function(i,m){return{sidebar_is_full:i,sidebar_is_small:m}};let Y=(()=>{class i{constructor(o,t,r){this.app=o,this.avisos=t,this.calendar=r,this.Notificacion={},this.imageChangedEvent="",this.file={},this.img=1,this.imgs=[],this.Ingresar={},this.enviarconimagen={},this.marked=!1,this.theCheckbox=!1,this.link={},this.x=1,this.showenviar=!0}selectToday(){if(null==this.horayminutos||null==this.horayminutos||" "==this.horayminutos)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una hora"});this.horayminutos=this.horayminutos.split(":");let o={year:this.model.year,month:this.model.month,day:this.model.day,hora:Number(this.horayminutos[0]),minutos:Number(this.horayminutos[1])},t=JSON.stringify(o),r=this.Notificacion.titulo,a=this.Notificacion.texto,c=JSON.parse(localStorage.getItem("user_data")),J=c.Nombre+" "+c.Apellidos,j=localStorage.getItem("Imagen"),y=this.Notificacion.link;if("true"==localStorage.getItem("check")){let x=this.radioSelected;if(null==this.horayminutos)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una hora"});if(null==t)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una fecha</a>"});if(null==x)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona un destinatario"});console.log(t),this.avisos.Agendanotifiacion({whoiam:x,link:y,a\u00f1o:t,name:j,titulo:r,texto:a,IdPersona:J}).subscribe(E=>{console.log(E),this.show=!1,g().fire({position:"top-end",icon:"success",title:"Your work has been1 saved",showConfirmButton:!1,timer:2e3}),this.avisos.getnotificaciones({}).subscribe(Q=>{this.mensajes=Q[0];for(let v=0;v<this.mensajes.length;v++){let A=JSON.parse(this.mensajes[v].FechaAgenda);this.mensajes[v].FechaAgenda=A.day+"-"+A.month+"-"+A.year,this.mensajes[v].Hora=A.hora+":"+A.minutos}console.log(this.mensajes)})})}else{let x=this.radioSelected;if(null==this.horayminutos)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una hora"});if(null==t)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una fecha</a>"});if(null==x)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una destinatario"});this.avisos.Agendanotifiacion({whoiam:x,a\u00f1o:t,name:j,titulo:r,texto:a,IdPersona:J}).subscribe(E=>{console.log(E),this.show=!1,g().fire({position:"top-end",icon:"success",title:"Your work has been2 saved",showConfirmButton:!1,timer:2e3}),this.avisos.getnotificaciones({}).subscribe(Q=>{this.mensajes=Q[0];for(let v=0;v<this.mensajes.length;v++){let A=JSON.parse(this.mensajes[v].FechaAgenda);this.mensajes[v].FechaAgenda=A.day+"-"+A.month+"-"+A.year,this.mensajes[v].Hora=A.hora+":"+A.minutos}console.log(this.mensajes)})})}}showcontenn(){this.showconten=!0,this.showenviar=!1,2==this.x&&(this.showconten=!1,this.showenviar=!0,this.x=0),this.x++}setFile(o){this.file=o[0]}fileChangeEvent(o){this.imageChangedEvent=o,console.log(o)}Notificacionsend(){let o=this.Notificacion.titulo,t=this.Notificacion.texto,r=JSON.parse(localStorage.getItem("user_data")),a=r.Nombre+" "+r.Apellidos,J=localStorage.getItem("Imagen"),L=this.Notificacion.link;if("true"==localStorage.getItem("check")){console.log(this.radioSelected);let y=this.radioSelected;if(null==y)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Selecciona una fecha</a>"});this.avisos.notificacionsend({inversionista:0,whoiam:y,link:L,imgg:1,name:J,titulo:o,texto:t,IdPersona:a}).subscribe(x=>{console.log(x),this.show=!1,g().fire({position:"top-end",icon:"success",title:"Seleccione a quien notificar",showConfirmButton:!1,timer:2e3})})}else{console.log(this.radioSelected);let y=this.radioSelected;if(null==y)return void g().fire({icon:"error",title:"Oops...",text:"Something went wrong!",footer:"Seleccione a quien notificar</a>"});this.avisos.notificacionsend({inversionista:0,whoiam:y,imgg:1,name:J,titulo:o,texto:t,IdPersona:a}).subscribe(x=>{console.log(x),this.show=!1,g().fire({position:"top-end",icon:"success",title:"Your work has been2 saved",showConfirmButton:!1,timer:2e3})})}setTimeout(()=>window.location.reload(),2e3)}NombreImg(){this.avisos.notifiaccionimg({img:0,name:this.file.name}).subscribe(r=>{this.imgs=r})}onItemChange(){console.log(this.radioSelected)}openFile(o){g().fire({title:o.Imagen,imageUrl:this.app.dominio+"assets/img/Img-Notificaciones/"+o.Imagen,imageWidth:400,imageHeight:200,imageAlt:"Custom image"})}EliminarMensaje(o){console.log(o),this.avisos.eliminarmensaje({data:o}).subscribe(t=>{console.log(t)}),this.avisos.getnotificaciones({}).subscribe(t=>{this.mensajes=t[0];for(let r=0;r<this.mensajes.length;r++){let a=JSON.parse(this.mensajes[r].FechaAgenda);this.mensajes[r].FechaAgenda=a.day+"-"+a.month+"-"+a.year,this.mensajes[r].Hora=a.hora+":"+a.minutos}return this.mensajes})}selectimg(o){let t=o.Imagen;this.nameimg=o.Image,localStorage.setItem("Imagen",t),this.show=!0}toggleVisibility(o){this.marked=o.target.checked,localStorage.setItem("check",o.target.checked)}confirmar2(){let o=new FormData;o.append("documento",this.file),console.log(this.file);let t=this.file.name,r=this.Ingresar.tituloarchivo;this.avisos.upimg(o).subscribe(c=>{console.log(c),console.log("seevio APi")}),this.avisos.notifiaccionimg({titulo:r,name:t,img:1}).subscribe(c=>{console.log(c),g().fire({position:"top-end",icon:"success",title:"Your work has been saved",showConfirmButton:!1,timer:2e3})})}ngOnInit(){console.log(this.Notificacion),this.avisos.getnotificaciones({}).subscribe(o=>{this.mensajes=o[0];for(let t=0;t<this.mensajes.length;t++){let r=JSON.parse(this.mensajes[t].FechaAgenda);this.mensajes[t].FechaAgenda=r.day+"-"+r.month+"-"+r.year,this.mensajes[t].Hora=r.hora+":"+r.minutos}console.log(this.mensajes)})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(d.z),e.Y36(_.U),e.Y36(u.vL))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notificaciones"]],decls:81,vars:17,consts:[[1,"page-container",3,"ngClass"],[1,"container-fluid"],[1,"row"],[1,"col-md-1"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-end"],["type","button",1,"btn","btn-outline-dark",3,"click"],[1,"fas","fa-book"],[1,"form-group"],["for","inputTitulo",1,"col-sm-2","col-form-label"],["type","text","maxlength","50","name","titulo","id","inputTitulo",1,"form-control",3,"ngModel","ngModelChange"],["for","exampleFormControlTextarea1",1,"form-label"],["maxlength","100","name","texto","id","exampleFormControlTextarea1","rows","3",1,"form-control",3,"ngModel","ngModelChange"],["type","button","href","#exampleModalToggle","data-bs-toggle","modal","data-bs-target","#exampleModalToggle",1,"btn","btn-outline-info",3,"click"],["class","alert alert-primary","role","alert","style","margin-top: 3%;",4,"ngIf"],[1,"form-check","form-switch",2,"padding-top","4%"],["data-md-icheck","","type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexSwitchCheckDefault",1,"form-check-label"],[1,"mb-3","row"],[1,"col-sm-10"],["class","form-control","name","link","type","text","placeholder","https://Ejemplo.com/","aria-label","default input example",3,"ngModel","ngModelChange",4,"ngIf"],[2,"margin-top","2rem","margin-left","2rem"],[1,"form-check"],["type","radio","name","flexRadioDefault","name","list_name","value","1","id","flexRadioDefault1","checked","",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioDefault1",1,"form-check-label"],["type","radio","name","flexRadioDefault","name","list_name","value","2","id","flexRadioDefault2",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioDefault2",1,"form-check-label"],["class","form-check",4,"ngIf"],["type","button","class","btn btn-primary",3,"click",4,"ngIf"],["class","btn btn-primary",3,"click",4,"ngIf"],["class","col-md-1",4,"ngIf"],["id","exampleModalToggle","aria-hidden","true","aria-labelledby","exampleModalToggleLabel","tabindex","-1",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalToggleLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"table","table-striped"],["scope","col"],[4,"ngFor","ngForOf"],["data-bs-target","#exampleModalToggle2","data-bs-toggle","modal","data-bs-dismiss","modal",1,"btn","btn-outline-dark"],[1,"modal-footer"],["type","button","id","closeModal","data-bs-toggle","modal","data-bs-dismiss","modal","data-dismiss","modal",1,"btn","btn-secondary"],["id","exampleModalToggle2","aria-hidden","true","aria-labelledby","exampleModalToggleLabel2","tabindex","-1",1,"modal","fade"],["id","exampleModalToggleLabel2",1,"modal-title"],[1,"input-group","mb-3"],["for","Titulo",1,"col-sm-2","col-form-label"],["type","text","name","titulo","id","Titulo",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group"],["type","file","id","inputGroupFile04","aria-describedby","inputGroupFileAddon04","aria-label","Upload",1,"form-control",3,"change"],["doc",""],["data-bs-toggle","modal","data-bs-target","#exampleModalToggle","data-bs-dismiss","modal",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],["role","alert",1,"alert","alert-primary",2,"margin-top","3%"],["name","link","type","text","placeholder","https://Ejemplo.com/","aria-label","default input example",1,"form-control",3,"ngModel","ngModelChange"],["type","radio","name","flexRadioDefault","name","list_name","value","0","id","flexRadioDefault0",1,"form-check-input",3,"ngModel","ngModelChange","change"],["for","flexRadioDefault0",1,"form-check-label"],[1,"btn","btn-primary",3,"click"],[1,"table","table-hover"],["type","time","value","24",1,"tiempo",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange","navigate"],["dp",""],[4,"ngIf"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"],["scope","row"],[1,"btn","btn-sm","btn-primary","me-1",3,"click"],[1,"far","fa-eye"],["data-bs-dismiss","modal",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"far","fa-check-square"]],template:function(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"form"),e.TgZ(5,"div",4),e.TgZ(6,"button",5),e.NdJ("click",function(){return t.showcontenn()}),e._UZ(7,"i",6),e.qZA(),e.qZA(),e.TgZ(8,"div",7),e.TgZ(9,"label",8),e._uU(10,"Titulo"),e.qZA(),e.TgZ(11,"input",9),e.NdJ("ngModelChange",function(c){return t.Notificacion.titulo=c}),e.qZA(),e.qZA(),e.TgZ(12,"div",7),e.TgZ(13,"label",10),e._uU(14,"Notificacion"),e.qZA(),e.TgZ(15,"textarea",11),e.NdJ("ngModelChange",function(c){return t.Notificacion.texto=c}),e.qZA(),e.qZA(),e.TgZ(16,"div",7),e.TgZ(17,"button",12),e.NdJ("click",function(){return t.NombreImg()}),e._uU(18," Selecciona una imagen "),e.qZA(),e.YNc(19,b,2,0,"div",13),e.TgZ(20,"div",14),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(c){return t.theCheckbox=c})("change",function(c){return t.toggleVisibility(c)}),e.qZA(),e.TgZ(22,"label",16),e._uU(23,"Agregar link"),e.qZA(),e.qZA(),e.TgZ(24,"div",17),e.TgZ(25,"div",18),e.YNc(26,k,1,1,"input",19),e.qZA(),e.TgZ(27,"div",20),e.TgZ(28,"div",21),e.TgZ(29,"input",22),e.NdJ("ngModelChange",function(c){return t.radioSelected=c})("change",function(){return t.onItemChange()}),e.qZA(),e.TgZ(30,"label",23),e._uU(31," Notificar asesores "),e.qZA(),e.qZA(),e.TgZ(32,"div",21),e.TgZ(33,"input",24),e.NdJ("ngModelChange",function(c){return t.radioSelected=c})("change",function(){return t.onItemChange()}),e.qZA(),e.TgZ(34,"label",25),e._uU(35," Notificar inversionistas "),e.qZA(),e.qZA(),e.YNc(36,P,4,1,"div",26),e.qZA(),e.qZA(),e.qZA(),e.YNc(37,F,2,0,"button",27),e.YNc(38,D,2,0,"button",28),e.qZA(),e.qZA(),e.YNc(39,w,20,3,"div",29),e.qZA(),e.TgZ(40,"div",30),e.TgZ(41,"div",31),e.TgZ(42,"div",32),e.TgZ(43,"div",33),e.TgZ(44,"h5",34),e._uU(45,"Imagen"),e.qZA(),e._UZ(46,"button",35),e.qZA(),e.TgZ(47,"div",36),e.TgZ(48,"table",37),e.TgZ(49,"thead"),e.TgZ(50,"tr"),e._UZ(51,"th",38),e.qZA(),e.qZA(),e.TgZ(52,"tbody"),e.YNc(53,S,10,2,"tr",39),e.qZA(),e.qZA(),e.TgZ(54,"button",40),e._uU(55,"Subir Imagen"),e.qZA(),e.qZA(),e.TgZ(56,"div",41),e.TgZ(57,"button",42),e._uU(58,"Close"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"div",43),e.TgZ(60,"div",31),e.TgZ(61,"div",32),e.TgZ(62,"div",33),e.TgZ(63,"h5",44),e._uU(64,"Imagen"),e.qZA(),e._UZ(65,"button",35),e.qZA(),e.TgZ(66,"div",36),e.TgZ(67,"div",45),e.TgZ(68,"label",46),e._uU(69,"Nombre"),e.qZA(),e.TgZ(70,"input",47),e.NdJ("ngModelChange",function(c){return t.Ingresar.tituloarchivo=c}),e.qZA(),e.qZA(),e.TgZ(71,"a"),e._uU(72,"*Subir imagen de 320 x 212 px"),e.qZA(),e.TgZ(73,"div",48),e.TgZ(74,"input",49,50),e.NdJ("change",function(){e.CHM(r);const c=e.MAs(75);return t.setFile(c.files)}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div",41),e.TgZ(77,"button",51),e.NdJ("click",function(){return t.NombreImg()}),e._uU(78,"Volver"),e.qZA(),e.TgZ(79,"button",52),e.NdJ("click",function(){return t.confirmar2()}),e._uU(80,"Confirmar"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}2&o&&(e.Q6J("ngClass",e.WLB(14,R,t.app.sidebarState,!t.app.sidebarState)),e.xp6(11),e.Q6J("ngModel",t.Notificacion.titulo),e.xp6(4),e.Q6J("ngModel",t.Notificacion.texto),e.xp6(4),e.Q6J("ngIf",t.show),e.xp6(2),e.Q6J("ngModel",t.theCheckbox),e.xp6(5),e.Q6J("ngIf",t.marked),e.xp6(3),e.Q6J("ngModel",t.radioSelected),e.xp6(4),e.Q6J("ngModel",t.radioSelected),e.xp6(3),e.Q6J("ngIf",t.showenviar),e.xp6(1),e.Q6J("ngIf",t.showconten),e.xp6(1),e.Q6J("ngIf",t.showenviar),e.xp6(1),e.Q6J("ngIf",t.showconten),e.xp6(14),e.Q6J("ngForOf",t.imgs),e.xp6(17),e.Q6J("ngModel",t.Ingresar.tituloarchivo))},directives:[Z.mk,l._Y,l.JL,l.F,l.Fj,l.nD,l.JJ,l.On,Z.O5,l.Wl,l._,Z.sg,u.VL],styles:[".form-group[_ngcontent-%COMP%]{padding-top:2%;padding-bottom:3%}table[_ngcontent-%COMP%]{caption-side:bottom;border-collapse:collapse}.tiempo[_ngcontent-%COMP%]{margin-right:2%;font-size:1.2rem;font-family:Times New Roman,Times,serif}.a[_ngcontent-%COMP%]{font-size:2vw}.row[_ngcontent-%COMP%]{--bs-gutter-x: -6.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x) * -.5);margin-left:calc(var(--bs-gutter-x) * -.5)}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.col-md-1[_ngcontent-%COMP%]{margin-left:2%;padding-bottom:2%;margin-top:8%;width:47%}"]}),i})();var B=s(4383),H=s(6034),I=s(7322),q=s(1066);function G(i,m){1&i&&(e.TgZ(0,"label",12),e._uU(1,"Texto URL(opcional)"),e.qZA())}function z(i,m){if(1&i){const o=e.EpF();e.TgZ(0,"input",31),e.NdJ("ngModelChange",function(r){return e.CHM(o),e.oxw().promo.urlt=r}),e.qZA()}if(2&i){const o=e.oxw();e.Q6J("ngModel",o.promo.urlt)}}const V=function(i,m){return{sidebar_is_full:i,sidebar_is_small:m}},W=function(i){return{disabled:i}},X=[{path:"notificaciones",component:Y,canActivate:[T.f],data:{grant:36}},{path:"promos",component:(()=>{class i{constructor(o,t,r,a){this.app=o,this.avisos=t,this.datepipe=r,this.toast=a,this.promo={},this.dateRange=new l.cw({start:new l.NI,end:new l.NI}),this.loading={},this.promos=[],this.configDataTable={fields:[{text:"Nombre",value:"Nombre",pipe:null},{text:"Vigencia",value:"Vigencia",pipe:null},{text:"Estado",value:"Estado",pipe:null}],imagen:!0,imagenurl:"https://fibraxinversiones.mx/assets/img/promos/",img:"Arte",promo:!0}}ngOnInit(){this.getPromos()}subirFoto(o){const t=o[0];let r=new FormData;r.append("file",t),this.avisos.subirArte(r).subscribe(a=>{console.log(a),!0===a.result&&(this.promo.Arte=a.nameimg)})}dateRangeChange(){this.dateRange.value.end&&this.dateRange.value.start&&(this.promo.Inicio=this.datepipe.transform(this.dateRange.value.start,"yyyy-MM-dd"),this.promo.Fin=this.datepipe.transform(this.dateRange.value.end,"yyyy-MM-dd"))}nueva(){this.promo.MNombre=+this.promo.MNombre,this.promo.MVigencia=+this.promo.MVigencia,this.avisos.NuevaPromo(this.promo).subscribe(o=>{if(!o.recordset.error){let t=document.getElementById("cerrar");console.log(t),t.click(),this.toast.success("Promocion agregada",""),this.promo={},this.getPromos()}})}getPromos(){this.avisos.promos().subscribe(o=>{o.promos&&(this.promos=o.promos)})}}return i.\u0275fac=function(o){return new(o||i)(e.Y36(d.z),e.Y36(_.U),e.Y36(Z.uU),e.Y36(B._W))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-promos"]],decls:47,vars:18,consts:[[1,"page-container",3,"ngClass"],[1,"main-content"],[3,"dataList","config"],["data-bs-toggle","modal","data-bs-target","#exampleModal","type","button",1,"btn","btn-primary","agregar"],[1,"fas","fa-plus"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","id","cerrar","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],["for",""],["type","text",1,"form-control","mb-3",3,"ngModel","ngModelChange"],["appearance","legacy",2,"width","100%"],[3,"rangePicker","formGroup"],["matStartDate","","formControlName","start","placeholder","Start Date"],["matEndDate","","formControlName","end","placeholder","End Date",3,"dateChange"],["matSuffix","",3,"for"],[2,"z-index","5000 !important"],["picker",""],["type","file","name","imgPerfil","id","imagenPerfilInput",1,"ImgPerfilInputElement","form-control","mb-4",3,"change"],["foto",""],["for","",4,"ngIf"],["type","text","class","form-control mb-3","placeholder","Click para acceder",3,"ngModel","ngModelChange",4,"ngIf"],[1,"fw-bold","mt-3"],[1,"form-check","form-switch"],["type","checkbox","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"ngClass","click"],["type","text","placeholder","Click para acceder",1,"form-control","mb-3",3,"ngModel","ngModelChange"]],template:function(o,t){if(1&o){const r=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"app-data-reclu",2),e.TgZ(3,"button",3),e._UZ(4,"i",4),e.qZA(),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"h5",9),e._uU(10,"Nueva promoci\xf3n"),e.qZA(),e._UZ(11,"button",10),e.qZA(),e.TgZ(12,"div",11),e.TgZ(13,"label",12),e._uU(14,"Titulo promoci\xf3n"),e.qZA(),e.TgZ(15,"input",13),e.NdJ("ngModelChange",function(c){return t.promo.Nombre=c}),e.qZA(),e.TgZ(16,"mat-form-field",14),e.TgZ(17,"mat-label"),e._uU(18,"Vigencia de la promoci\xf3n"),e.qZA(),e.TgZ(19,"mat-date-range-input",15),e._UZ(20,"input",16),e.TgZ(21,"input",17),e.NdJ("dateChange",function(){return t.dateRangeChange()}),e.qZA(),e.qZA(),e._UZ(22,"mat-datepicker-toggle",18),e._UZ(23,"mat-date-range-picker",19,20),e.qZA(),e.TgZ(25,"label",12),e._uU(26,"Subir imagen promoci\xf3n"),e.qZA(),e.TgZ(27,"input",21,22),e.NdJ("change",function(){e.CHM(r);const c=e.MAs(28);return t.subirFoto(c.files)}),e.qZA(),e.TgZ(29,"label",12),e._uU(30,"URL(opcional)"),e.qZA(),e.TgZ(31,"input",13),e.NdJ("ngModelChange",function(c){return t.promo.urlw=c}),e.qZA(),e.YNc(32,G,2,0,"label",23),e.YNc(33,z,1,1,"input",24),e.TgZ(34,"span",25),e._uU(35,"Opciones"),e.qZA(),e.TgZ(36,"div",26),e.TgZ(37,"input",27),e.NdJ("ngModelChange",function(c){return t.promo.MNombre=c}),e.qZA(),e.TgZ(38,"label",28),e._uU(39,"Visibilidad Nombre"),e.qZA(),e.qZA(),e.TgZ(40,"div",26),e.TgZ(41,"input",27),e.NdJ("ngModelChange",function(c){return t.promo.MVigencia=c}),e.qZA(),e.TgZ(42,"label",28),e._uU(43,"Visibilidad Vigencia"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(44,"div",29),e.TgZ(45,"button",30),e.NdJ("click",function(){return t.nueva()}),e._uU(46," Guardar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&o){const r=e.MAs(24);e.Q6J("ngClass",e.WLB(13,V,t.app.sidebarState,!t.app.sidebarState)),e.xp6(2),e.Q6J("dataList",t.promos)("config",t.configDataTable),e.xp6(13),e.Q6J("ngModel",t.promo.Nombre),e.xp6(4),e.Q6J("rangePicker",r)("formGroup",t.dateRange),e.xp6(3),e.Q6J("for",r),e.xp6(9),e.Q6J("ngModel",t.promo.urlw),e.xp6(1),e.Q6J("ngIf",null!=t.promo.urlw&&""!=t.promo.urlw&&null!=t.promo.urlw),e.xp6(1),e.Q6J("ngIf",null!=t.promo.urlw&&""!=t.promo.urlw&&null!=t.promo.urlw),e.xp6(4),e.Q6J("ngModel",t.promo.MNombre),e.xp6(4),e.Q6J("ngModel",t.promo.MVigencia),e.xp6(4),e.Q6J("ngClass",e.VKq(16,W,!t.promo.Arte||!t.promo.Nombre))}},directives:[Z.mk,H.v,l.Fj,l.JJ,l.On,I.KE,I.hX,q.wx,l.JL,l.sg,q.zY,l.u,q.By,q.nW,I.R9,q._g,Z.O5,l.Wl],styles:[".cdk-overlay-container{z-index:2000}.agregar[_ngcontent-%COMP%]{position:fixed;right:5%;bottom:5%;width:60px;height:60px;border-radius:60px;font-size:25px;display:flex;align-items:center;justify-content:center}"]}),i})(),canActivate:[T.f],data:{grant:37}}];let $=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[f.Bz.forChild(X)],f.Bz]}),i})();var ee=s(508),te=s(7531),oe=s(6154);let ne=(()=>{class i{}return i.\u0275fac=function(o){return new(o||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[Z.ez,$,l.UX,q.FA,I.lN,ee.XK,te.c,l.u5,oe.SharedModule,u.IJ]]}),i})()},6154:(U,C,s)=>{s.r(C),s.d(C,{SharedModule:()=>D});var Z=s(9808),f=s(780),T=s(2654),n=s(9863),g=s(7556),e=s(4383),d=s(4182);const u=[{path:"",component:(()=>{class p{constructor(h,M,w){this.auth=h,this.router=M,this.toast=w,this.loginData={Correo:null,Pwd:null},this.subscription=new T.w}ngOnInit(){}ngOnDestroy(){}login(){console.log(this.loginData),null!==this.loginData.Correo&&null!==this.loginData.Pwd&&this.subscription.add(this.auth.login(this.loginData).subscribe(h=>{console.log(h),h.token?(this.auth.user=h.persona,this.auth.logged=!0,localStorage.setItem("auth_token",h.token),localStorage.setItem("user_data",JSON.stringify(h.persona)),this.router.navigateByUrl("/")):this.toast.error("Verifica tus datos","Acceso denegado",{timeOut:3e3})},h=>{console.log(h)}))}}return p.\u0275fac=function(h){return new(h||p)(n.Y36(g.e),n.Y36(f.F0),n.Y36(e._W))},p.\u0275cmp=n.Xpm({type:p,selectors:[["app-login"]],decls:27,vars:2,consts:[[1,"container-fluid","p-h-0","p-v-20","bg","full-height","d-flex",2,"background-image","url('assets/img/fondo.jpg')","background-size","cover"],[1,"d-flex","flex-column","justify-content-between","w-100"],[1,"container","d-flex","h-100",2,"justify-content","center"],[1,"row","align-items-center","w-100","formul"],[1,"card","shadow-lg"],[1,"card-body"],[1,"d-flex","align-items-center","flex-column","ustify-content-between","m-b-30"],["width","50%","alt","","src","assets/img/x-logo.png",1,"img-fluid"],[1,"m-b-0"],["name","login","id","login"],[1,"form-group"],["for","userName",1,"font-weight-semibold"],[1,"input-affix"],[1,"prefix-icon","anticon","anticon-user"],["type","text","id","correo","name","correo","placeholder","Correo","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"font-weight-semibold"],[1,"input-affix","m-b-10"],[1,"prefix-icon","anticon","anticon-lock"],["type","password","id","password","name","password","placeholder","Contrase\xf1a","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mt-2"],[1,"d-flex","align-items-center","justify-content-end"],["id","form-send",1,"btn",2,"background-color","#d38842","color","white",3,"click"]],template:function(h,M){1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"div",6),n._UZ(7,"img",7),n.TgZ(8,"h2",8),n._uU(9,"Login"),n.qZA(),n.qZA(),n.TgZ(10,"form",9),n.TgZ(11,"div",10),n.TgZ(12,"label",11),n._uU(13,"Correo:"),n.qZA(),n.TgZ(14,"div",12),n._UZ(15,"i",13),n.TgZ(16,"input",14),n.NdJ("ngModelChange",function(S){return M.loginData.Correo=S}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(17,"div",10),n.TgZ(18,"label",15),n._uU(19,"Contrase\xf1a:"),n.qZA(),n.TgZ(20,"div",16),n._UZ(21,"i",17),n.TgZ(22,"input",18),n.NdJ("ngModelChange",function(S){return M.loginData.Pwd=S}),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",19),n.TgZ(24,"div",20),n.TgZ(25,"button",21),n.NdJ("click",function(){return M.login()}),n._uU(26,"Entrar"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&h&&(n.xp6(16),n.Q6J("ngModel",M.loginData.Correo),n.xp6(6),n.Q6J("ngModel",M.loginData.Pwd))},directives:[d._Y,d.JL,d.F,d.Fj,d.Q7,d.JJ,d.On],styles:[".bg[_ngcontent-%COMP%]{background-repeat:no-repeat;background-size:cover;background-position:center center}.full-height[_ngcontent-%COMP%]{min-height:100vh}.container-fluid[_ngcontent-%COMP%]{width:100%;padding-right:15px;padding-left:15px;margin-right:auto;margin-left:auto}.p-v-20[_ngcontent-%COMP%]{padding-top:20px!important;padding-bottom:20px!important}.p-h-0[_ngcontent-%COMP%]{padding-left:0!important;padding-right:0!important}.w-100[_ngcontent-%COMP%]{width:100%!important}.flex-column[_ngcontent-%COMP%]{flex-direction:column!important}.h-100[_ngcontent-%COMP%]{height:100%!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.p-h-40[_ngcontent-%COMP%]{padding-left:40px!important;padding-right:40px!important}.justify-content-between[_ngcontent-%COMP%]{justify-content:space-between!important}.formul[_ngcontent-%COMP%]{max-width:500px}.m-b-30[_ngcontent-%COMP%]{margin-bottom:30px!important}.font-weight-semibold[_ngcontent-%COMP%]{font-weight:500!important}label[_ngcontent-%COMP%]{display:inline-block;margin-bottom:.5rem}"]}),p})()}];let l=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275mod=n.oAB({type:p}),p.\u0275inj=n.cJS({imports:[[f.Bz.forChild(u)],f.Bz]}),p})();var b=s(1066),k=s(7322),P=s(508),F=s(7531);let D=(()=>{class p{}return p.\u0275fac=function(h){return new(h||p)},p.\u0275mod=n.oAB({type:p}),p.\u0275inj=n.cJS({imports:[[Z.ez,l,d.u5,b.FA,k.lN,P.XK,F.c,d.u5,d.UX]]}),p})()},5861:(U,C,s)=>{function Z(T,n,g,e,d,_,u){try{var l=T[_](u),b=l.value}catch(k){return void g(k)}l.done?n(b):Promise.resolve(b).then(e,d)}function f(T){return function(){var n=this,g=arguments;return new Promise(function(e,d){var _=T.apply(n,g);function u(b){Z(_,e,d,u,l,"next",b)}function l(b){Z(_,e,d,u,l,"throw",b)}u(void 0)})}}s.d(C,{Z:()=>f})}}]);